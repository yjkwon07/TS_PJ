# TS_PJ 
<p>
    <img src="https://img.shields.io/badge/version-1.0.0-rgb(26, 188, 156).svg" />
    <img src="https://img.shields.io/badge/Apache-8.5-green.svg" />
    <img src="https://img.shields.io/badge/spring-4.3.7-green.svg" />
    <img src="https://img.shields.io/badge/node->= 10.16.0-green.svg" />
    <img src="https://img.shields.io/badge/java-1.8-blue.svg" />  
    <img src="https://img.shields.io/badge/bootstrap-4-blue.svg" />  
    <img src="https://img.shields.io/badge/javascript-ES6-blue.svg" />
    <img src="https://img.shields.io/badge/Mybatis-3.4.6-rgb(243, 156, 18).svg" />
    <img src="https://img.shields.io/badge/MySQL-<= 6-rgb(243, 156, 18).svg" />
    <img alt="License" src="https://img.shields.io/badge/License-Apache_Lisense_2.0-yellow.svg"/>
</p>

- **Ver. 1.0.0**
  - í˜„ì¬ ì¬ëŠ¥ ê³µìœ  ê¸°ëŠ¥ë§Œ ê°€ëŠ¥ 
  - ì¶”í›„ ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥ êµ¬í˜„ ê³„íš
  
## ì¬ëŠ¥ ê³µìœ  ë° íŒë§¤ ì»¤ë®¤ë‹ˆí‹° ì‚¬ì´íŠ¸
1. ëŠ˜ ë˜‘ê°™ì€ ì¼ìƒìƒí™œì´ ì§€ë£¨í•˜ë‹¤? 
   - **TS_PJ** ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì´ìš©í•˜ì—¬ ë‹¤ì–‘í•œ ì—¬ê°€ìƒí™œë¡œ ì§€ë£¨í•œ ì‚¶ì„ íƒˆí”¼í•˜ê¸¸ ë°”ë€ë‹¤.

2. í¸ë¦¬í•˜ê²Œ ì¬ëŠ¥ ê³µìœ  ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ê³  ì‹¶ë‹¤? 
   - í˜„ ìœ„ì¹˜ ì£¼ë³€ ì—¬ê°€ìƒí™œ ì •ë³´ë¥¼ ê²€ìƒ‰ ì„œë¹„ìŠ¤ ì œê³µ 
 

# ì„¤ì¹˜ë°©ë²• ğŸ‘·


# ê°œë°œí™˜ê²½ ğŸ‘¨â€ğŸ­
- Front
  - HTML/CSS (bootstrap & ì™¸ë¶€ ì»¤ìŠ¤í…€)
  - Javascript (ES6) chrom ê¶Œì¥

- Back
  - Java 1.8
  - Spring 4.3.7
  - Node 10.16.0
  - MyBatis 3.4.6
- DB
  - MySQL 6

# API & Module ğŸ“
- [Google Maps API](https://developers.google.com/maps/documentation/javascript/tutorial)
- [Youtube API](https://developers.google.com/youtube/v3/getting-started?hl=ko)
- [timepicker.js](http://www.daterangepicker.com/#examples)
- [Dropzone.js](https://www.dropzonejs.com/#usage)
- [slick.js](http://kenwheeler.github.io/slick/)
  
# git
- **ì „ëµ** 
  - [Feature Branch Workflow](https://gmlwjd9405.github.io/2017/10/27/how-to-collaborate-on-GitHub-1.html)
  - [ì»¤ë°‹ ë©”ì‹œì§€](https://djkeh.github.io/articles/How-to-write-a-git-commit-message-kor/)
 
# Page
## Main Page
![main_page VIEW](https://github.com/yjkwon07/TS_PJ/blob/yj/userprofile/image/main_page.png)
### ì§€ë„
  1. ë§ˆì»¤ë“¤ì´ ë°˜ê²½ (50/50)px ëª¨ì—¬ìˆìœ¼ë©´ **í´ëŸ¬ìŠ¤í„°ë§**ìœ¼ë¡œ í•˜ë‚˜ì˜ ë§ˆì»¤ë¡œ ë³€ê²½
  2. ì§€ë„ì— ë§¤í•‘ëœ ê°•ì˜ ë©”ì¸ ì´ë¯¸ì§€ë¥¼ í´ë¦­ ì‹œ **`ê°•ì˜ìƒì„¸í˜ì´ì§€`** ë¡œ ì´ë™
  3. ê°•ì˜ ê²€ìƒ‰ **`REST API`** ìš”ì²­
     - ìë™ ì™„ì„± ê°•ì˜ ê²€ìƒ‰
     - í˜„ì¬ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê°œì„¤ëœ ê°•ì˜ ê²€ìƒ‰
       - ë°ì´í„° ê·œëª¨ê°€ ì»¤ì§ì— ë”°ë¼ ë Œë”ë§ ì†ë„ ì €í•˜ ë°©ì§€ë¥¼ ìœ„í•´ í˜„ì¬ ë³´ì´ëŠ” lat, lng ê¸°ì¤€ìœ¼ë¡œ ê°•ì˜ë¥¼ ê²€ìƒ‰ 
  4. ê¸¸ì°¾ê¸°
      - ê°•ì˜ ê²€ìƒ‰ í›„ ìì‹ ì˜ ìœ„ì¹˜ì—ì„œ ê¸¸ì°¾ê¸° **Google API** ìš”ì²­

#### ìë™ì™„ì„± ê²€ìƒ‰ ë° ê¸¸ì°¾ê¸° 
![main_page_map VIEW](https://github.com/yjkwon07/TS_PJ/blob/yj/userprofile/image/main_page_map.gif)

#### í˜„ì¬ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê°œì„¤ëœ ê°•ì˜ ê²€ìƒ‰
![main_page_map2 VIEW](https://github.com/yjkwon07/TS_PJ/blob/yj/userprofile/image/main_page_map2.gif)

### ìµœì‹  ê°•ì˜ (ë¹„ ë¡œê·¸ì¸/ë¡œê·¸ì¸ VIEW)
  - **`(slick.js ì ìš©)`** ìµœì‹  ë“±ë¡ëœ ê°•ì˜ ìˆœìœ¼ë¡œ ìŠ¬ë¼ì´ë“œ í˜•ì‹ìœ¼ë¡œ ë³´ì—¬ì¤€ë‹¤.

### ë“±ë¡í•œ ê°•ì˜ (ë¡œê·¸ì¸ VIEW)
  - **`(slick.js ì ìš©)`** ë¡œê·¸ì¸ì‹œ ìì‹ ì´ ë“±ë¡í•œ ê°•ì˜ëª©ë¡ì„ ìŠ¬ë¼ì´ë“œ í˜•ì‹ìœ¼ë¡œ ë³´ì—¬ì¤€ë‹¤.
    - ê°•ì˜ ì´ë¯¸ì§€ ìš°ì¸¡ ìƒë‹¨ ë¹¨ê°„ ë¦¬ë³¸ì— ê°•ì˜ **ë§ˆê°ì¼ì„** ë³´ì´ë„ë¡ í•œë‹¤.

#### slick ì ìš©
![main_page_slick](https://github.com/yjkwon07/TS_PJ/blob/yj/userprofile/image/main_page_slick.gif)


## ë¡œê·¸ì¸ ê¸°ëŠ¥
![loginpop_page_view](https://github.com/yjkwon07/TS_PJ/blob/jh%2FREADME/image/loginpop.PNG)

![loginpage_view](https://github.com/yjkwon07/TS_PJ/blob/jh%2FREADME/image/login.PNG)

#### ìë™ë¡œê·¸ì¸ ê¸°ëŠ¥
```
Spring Intercepterë¥¼ ì´ìš©í•´ì„œ êµ¬í˜„(ì•„ì´ë””ì–´: ì„¸ì…˜ + ì¿ í‚¤)

ë¸Œë¼ìš°ì €ê°€ ì„œë²„ì— ì ‘ì†í•  ë•Œ íŠ¹ì •í•œ ì¿ í‚¤ë¥¼ ê°™ì´ ì „ì†¡í•˜ê³ , ì´ë¥¼ ì´ìš©í•´ì„œ ë¡œê·¸ì¸ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹, HttpSessionì—ì„œ ì œê³µí•˜ëŠ” cookieì™€ ë‹¬ë¦¬ ê°œë°œìê°€ ë§Œë“  ì¿ í‚¤ëŠ” â€˜ë§Œë£Œê¸°í•œâ€™ì„ ì •í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì˜¤ëœê¸°ê°„ ë³´ê´€ ê°€ëŠ¥!
ì¿ í‚¤ëŠ” ë³´ì•ˆì´ ì·¨ì•½í•´ì„œ ì„¸ì…˜ì„ ìì£¼ ì‚¬ìš©í–ˆì§€ë§Œ ìš”ì¦˜ì—” ëª¨ë°”ì¼ì—ì„œ ë§¤ë²ˆ ë¡œê·¸ì¸ í•˜ëŠ” ê·€ì°®ì€ ë¬¸ì œ ë•Œë¬¸ì— ì¿ ê¸°ê°€ ë‹¤ì‹œ ìœ í–‰í•˜ê³  ìˆë‹¤.
```


## ê°•ì˜ ìƒì„¸í˜ì´ì§€(ê°•ì˜ ë“±ë¡)
![classinfo_page_view](https://github.com/yjkwon07/TS_PJ/blob/jh%2FREADME/image/classinfo.jpg)
### ê°•ì˜ì •ë³´ ë° ë“±ë¡ê¸°ëŠ¥
![classinfo_video_view](https://github.com/yjkwon07/TS_PJ/blob/jh%2FREADME/image/classinfoVideo.gif)
  1. ê°•ì˜ì´ë¯¸ì§€ íŒŒì¼ **slick**ì ìš©í•˜ì—¬ ì—¬ëŸ¬ê°€ì§€ ì´ë¯¸ì§€ view
  2. ê°•ì˜ìœ„ì¹˜ main viewì´ìš©í•˜ì—¬ **`í˜„ì¬ ìœ„ì¹˜ì—ì„œ ê¸¸ì°¾ê¸° ê¸°ëŠ¥ ì œê³µ`**ê¸°ëŠ¥
  3. ê°•ì˜ì˜ìƒ -> Youtube API ì‚¬ìš© ë° ì»¤ìŠ¤í…€
  4. íŠœí„°ì˜ ë‹¤ë¥¸ ê°•ì˜ë“¤ -> **slick** ì ìš©
  5. ê°•ì˜ì‹ ì²­ -> ë¹„ë¡œê·¸ì¸ ì‹œ ë¡œê·¸ì¸pageë¡œ ì´ë™, ë¡œê·¸ì¸ ì‹œ DBì— ë“±ë¡ë˜ì–´ì§ ë§Œì•½ ë“±ë¡ë˜ì–´ ìˆëŠ” ê°•ì˜ë©´ **ì´ë¯¸ë“±ë¡ëœ ê°•ì˜ì…ë‹ˆë‹¤.** alertì•Œë¦¼

## ë§ˆì´í˜ì´ì§€
![userprofile_page_view](https://github.com/yjkwon07/TS_PJ/blob/jh%2FREADME/image/userprofile.jpg)
### íšŒì›ì •ë³´ ë° ë“±ë¡ê°•ì˜ëª©ë¡
![userprofile_video_view](https://github.com/yjkwon07/TS_PJ/blob/jh%2FREADME/image/userprofileVideo.gif)

 Mapí˜•ì‹ìœ¼ë¡œ ì—¬ëŸ¬ DB tableì˜ ê°’ì„ ì €ì¥í•˜ì—¬ viewì— ì „ë‹¬

  1. íšŒì›ì •ë³´ 
  2. ê°•ì˜ì‹ ì²­ëª©ë¡
  3. ê°•ì˜ê°œì„¤ëª©ë¡(íŠœí„°)

#### Controller
 URL -> /profile/{user_id}, ë‹¤ë¥¸ ìœ ì €ê°€ ì ‘ê·¼í•˜ë ¤ê³  í•  ë•Œ sessionì„ ì´ìš©í•´ì„œ ë¡œê·¸ì¸ ëœ idì™€ ë‹¤ë¥¸ ì‹œ ì ‘ê·¼ë¶ˆê°€
 ```
 	@GetMapping("/profile/{user_id}")
	public ModelAndView getUserprofile(@PathVariable String user_id, HttpServletRequest request, HttpServletResponse response, RedirectAttributes rttr) {
		ModelAndView mv = new ModelAndView(VIEW_USER_PROFILE_FORM);
		UserVO userVO = (UserVO) request.getSession().getAttribute(LOGIN);
		try {
			Map<String, Object> map = userService.getUserprofile(user_id);
			if (map != null && user_id.equals(userVO.getUser_id())) {
				mv.addObject("userprofileVO", map);
				return mv;
			} else {
				rttr.addFlashAttribute("msg", "ë“±ë¡ëœ ì‚¬ìš©ìê°€ ì—†ìŠµë‹ˆë‹¤");
				mv.setViewName("redirect:/main");
				return mv;
			}
		} catch (Exception e) {
			e.printStackTrace();
			rttr.addFlashAttribute("msg", "ë“±ë¡ëœ ì‚¬ìš©ìê°€ ì—†ìŠµë‹ˆë‹¤");
			mv.setViewName("redirect:/main");
			return mv;
		}
	}
 ```

## íšŒì›ê°€ì… í˜ì´ì§€
![register_page_view](https://github.com/yjkwon07/TS_PJ/blob/jh%2FREADME/image/register.jpg)

### ë¹„ë™ê¸°ì²˜ë¦¬ë¥¼ í†µí•œ ì•„ì´ë”” ì¤‘ë³µí™•ì¸ ë° íšŒì›ê°€ì…
![register_video_view](https://github.com/yjkwon07/TS_PJ/blob/jh%2FREADME/image/registerVideo.gif)

#### Controller
```
	@GetMapping("/check")
	@ResponseBody
	public ResponseEntity<Map<String, String>> isUser(String user_id) {
		Map<String, String> map = new HashMap<String, String>();
		try {
			UserVO userVO = userService.getUserInfoFromTutorId(user_id);
			if(userVO == null){
				map.put("message", "ì‚¬ìš© ê°€ëŠ¥í•œ ì•„ì´ë”” ì…ë‹ˆë‹¤");
				return new ResponseEntity<Map<String, String>>(map, HttpStatus.OK);
			}else {
				map.put("message", "ì´ë¯¸ ì‚¬ìš©ì¤‘ì¸ ì•„ì´ë”” ì…ë‹ˆë‹¤");
				return new ResponseEntity<Map<String, String>>(map, HttpStatus.BAD_REQUEST);
			}
		} catch (Exception e) {
			e.getStackTrace();
			e.getMessage();
			map.clear();
			map.put("message", "ì•„ì´ë””ë¥¼ ë§Œë“¤ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
			return new ResponseEntity<Map<String, String>>(map, HttpStatus.BAD_REQUEST);
		}
	}
```
#### register.js
```
function isuserCheck(query) {
  let xhr = new XMLHttpRequest();
  xhr.onreadystatechange = function () {
    user_repeat.value = 0;
    if (xhr.readyState === xhr.DONE) {
      if (xhr.status === 200) {
        let userCheck = JSON.parse(xhr.responseText);
        user_repeat.value = 1;
        return alert(userCheck.message);
      }
      else {
        const error = JSON.parse(xhr.responseText);
        console.error(error.message);
        return alert(error.message)
      }
    }
  };
  xhr.open("GET", "/user/check?user_id=" + query);
  xhr.send();
}
```

# ê¸°íš ğŸ“†
**Google Document**ì„ í™œìš©í•˜ì—¬ ê¸°íš êµ¬ì„±

- í”„ë¡œì íŠ¸ ê´€ë¦¬ 
  - 2019.09.03 ~ 2019.10.27

[í”„ë¡œì íŠ¸ ê¸°íš](https://docs.google.com/document/d/15NszXOKZhiLjBO2Q62rTcVrHN8yIdE9OAlUQAfEcGiE/edit?usp=sharing)

![flow](https://github.com/yjkwon07/TS_PJ/blob/yj/userprofile/image/flow.png)

# MindmupğŸ¤”
**Google Mindmup**ì„ í™œìš©í•˜ì—¬ ì•„ì´ë””ì–´ í™•ì¥

[mindmup](https://drive.mindmup.com/map/1EwfCe1HodFb2d6O-Y9zePkc0dbcALPMT)

![mindmup](https://github.com/yjkwon07/TS_PJ/blob/yj/userprofile/image/mindmup.png)

# DataBase ğŸ–¥
- work **(MySQL workbench 6.3 CE)**
  - [DB Design](./info/DB.md)
  - [DB Query](./DB/dgs.sql)


